package main

import (
	"fmt"
)

func main() {
	fmt.Println("ğŸ§ª æµ‹è¯•ä»·æ ¼ç¼“å­˜é›†æˆä¿®å¤")
	fmt.Println("=========================")

	fmt.Println("\nğŸ“‹ é—®é¢˜åœºæ™¯")
	fmt.Println("ç³»ç»Ÿåœ¨è®¡ç®—è®¢å•æ•°é‡æ—¶ï¼Œä»·æ ¼è·å–ç»å¸¸å¤±è´¥ï¼Œå¯¼è‡´ä½¿ç”¨é”™è¯¯çš„fallbackæ•°é‡ï¼š")
	fmt.Println("âŒ ä»·æ ¼APIè°ƒç”¨å¤±è´¥ â†’ ä½¿ç”¨ç¡¬ç¼–ç çš„'1'ä½œä¸ºæ•°é‡")
	fmt.Println("âŒ å¿½ç•¥äº†ç”¨æˆ·æŒ‡å®šçš„ä¿è¯é‡‘é‡‘é¢")
	fmt.Println("âŒ å®é™…ä¿è¯é‡‘è¿œå°äºç”¨æˆ·æœŸæœ›")

	fmt.Println("\nğŸ”§ ä¿®å¤æ–¹æ¡ˆ")

	fmt.Println("\n1. é›†æˆä»·æ ¼ç¼“å­˜æœºåˆ¶")
	fmt.Println("   â”œâ”€â”€ getCurrentPriceFromFutures ä¼˜å…ˆä½¿ç”¨ä»·æ ¼ç¼“å­˜")
	fmt.Println("   â”œâ”€â”€ ç¼“å­˜æ–°é²œåº¦æ£€æŸ¥ï¼ˆ30ç§’å†…ï¼‰")
	fmt.Println("   â”œâ”€â”€ APIè°ƒç”¨ä½œä¸ºfallback")

	fmt.Println("\n2. ä¿æŒä¼°ç®—ä»·æ ¼æœºåˆ¶")
	fmt.Println("   â”œâ”€â”€ å½“ç¼“å­˜å’ŒAPIéƒ½å¤±è´¥æ—¶")
	fmt.Println("   â”œâ”€â”€ ä½¿ç”¨å†…ç½®çš„ä»·æ ¼ä¼°ç®—è¡¨")
	fmt.Println("   â”œâ”€â”€ ç¡®ä¿è®¡ç®—è¿‡ç¨‹çš„è¿ç»­æ€§")

	fmt.Println("\nğŸ“Š ä¿®å¤æ•ˆæœ")

	fmt.Println("\nä»·æ ¼è·å–æˆåŠŸç‡æå‡ï¼š")

	fmt.Println("\nä¿®å¤å‰:")
	fmt.Println("â”œâ”€â”€ ç¼“å­˜: æœªä½¿ç”¨ âŒ")
	fmt.Println("â”œâ”€â”€ API: å¯èƒ½å¤±è´¥ âŒ")
	fmt.Println("â”œâ”€â”€ ä¼°ç®—: æœªå®ç° âŒ")
	fmt.Println("â””â”€â”€ ç»“æœ: ä½¿ç”¨é”™è¯¯fallback âŒ")

	fmt.Println("\nä¿®å¤å:")
	fmt.Println("â”œâ”€â”€ ç¼“å­˜: ä¼˜å…ˆä½¿ç”¨ âœ… (æ–°é²œåº¦30ç§’)")
	fmt.Println("â”œâ”€â”€ API: ä½œä¸ºfallback âœ…")
	fmt.Println("â”œâ”€â”€ ä¼°ç®—: å¤šé‡ä¿éšœ âœ…")
	fmt.Println("â””â”€â”€ ç»“æœ: ä¿è¯é‡‘è®¡ç®—å‡†ç¡® âœ…")

	fmt.Println("\nğŸ¯ ç¼“å­˜ä¼˜å…ˆçº§ç­–ç•¥")

	fmt.Println("\nä»·æ ¼è·å–ä¼˜å…ˆçº§ï¼š")
	fmt.Println("1ï¸âƒ£ ä»·æ ¼ç¼“å­˜ (price_cachesè¡¨)")
	fmt.Println("   â”œâ”€â”€ æ£€æŸ¥æ•°æ®æ–°é²œåº¦ (â‰¤30ç§’)")
	fmt.Println("   â”œâ”€â”€ ç›´æ¥è¿”å›ç¼“å­˜ä»·æ ¼")
	fmt.Println("   â””â”€â”€ é¿å…APIè°ƒç”¨")

	fmt.Println("\n2ï¸âƒ£ Binance APIè°ƒç”¨")
	fmt.Println("   â”œâ”€â”€ ç¼“å­˜æœªå‘½ä¸­æˆ–è¿‡æœŸ")
	fmt.Println("   â”œâ”€â”€ è°ƒç”¨fapi/v1/premiumIndex")
	fmt.Println("   â””â”€â”€ è·å–æ ‡è®°ä»·æ ¼")

	fmt.Println("\n3ï¸âƒ£ ä»·æ ¼ä¼°ç®—è¡¨")
	fmt.Println("   â”œâ”€â”€ APIè°ƒç”¨ä¹Ÿå¤±è´¥")
	fmt.Println("   â”œâ”€â”€ ä½¿ç”¨å†…ç½®ä¼°ç®—ä»·æ ¼")
	fmt.Println("   â””â”€â”€ ä¿è¯è®¡ç®—ä¸ä¸­æ–­")

	fmt.Println("\nğŸ” é¢„æœŸæ—¥å¿—è¾“å‡º")

	fmt.Println("\næˆåŠŸä»ç¼“å­˜è·å–ä»·æ ¼ï¼š")
	fmt.Println("[scheduler] ä»ä»·æ ¼ç¼“å­˜è·å– BTRUSDT æœŸè´§ä»·æ ¼: 0.004512")

	fmt.Println("\nç¼“å­˜è¿‡æœŸï¼Œè°ƒç”¨APIï¼š")
	fmt.Println("[scheduler] ä»·æ ¼ç¼“å­˜æœªå‘½ä¸­ï¼Œä»APIè·å– BTRUSDT æœŸè´§ä»·æ ¼")

	fmt.Println("\nAPIä¹Ÿå¤±è´¥ï¼Œä½¿ç”¨ä¼°ç®—ï¼š")
	fmt.Println("[scheduler] ä»·æ ¼è·å–å¤±è´¥ï¼Œä½†ç”¨æˆ·æŒ‡å®šäº†é‡‘é¢ 100.00 USDTï¼Œå°†ä½¿ç”¨ä¼°ç®—ä»·æ ¼ç»§ç»­è®¡ç®—")
	fmt.Println("[scheduler] ä½¿ç”¨ä¼°ç®—ä»·æ ¼ 0.004000 è¿›è¡Œè®¡ç®—")

	fmt.Println("\nğŸ’¡ å…³é”®ä¼˜åŠ¿")

	fmt.Println("\n1ï¸âƒ£ ç³»ç»Ÿæ€§èƒ½æå‡")
	fmt.Println("   - å‡å°‘APIè°ƒç”¨é¢‘ç‡")
	fmt.Println("   - æé«˜ä»·æ ¼è·å–é€Ÿåº¦")
	fmt.Println("   - é™ä½äº¤æ˜“æ‰€é™æµé£é™©")

	fmt.Println("\n2ï¸âƒ£ è®¡ç®—å‡†ç¡®æ€§ä¿éšœ")
	fmt.Println("   - ç¼“å­˜æä¾›æœ€æ–°ä»·æ ¼")
	fmt.Println("   - å¤šé‡fallbackæœºåˆ¶")
	fmt.Println("   - é¿å…ä½¿ç”¨é”™è¯¯çš„æ•°é‡")

	fmt.Println("\n3ï¸âƒ£ ç”¨æˆ·ä½“éªŒæ”¹å–„")
	fmt.Println("   - ä¿è¯é‡‘è®¡ç®—æ›´å‡†ç¡®")
	fmt.Println("   - å‡å°‘æ„å¤–çš„è®¡ç®—åå·®")
	fmt.Println("   - æå‡ç­–ç•¥æ‰§è¡Œå¯é æ€§")

	fmt.Println("\n4ï¸âƒ£ ç³»ç»Ÿå¥å£®æ€§å¢å¼º")
	fmt.Println("   - ä¼˜é›…å¤„ç†å„ç§æ•…éšœæƒ…å†µ")
	fmt.Println("   - ç¡®ä¿åŠŸèƒ½è¿ç»­æ€§")
	fmt.Println("   - æä¾›è¯¦ç»†çš„çŠ¶æ€æ—¥å¿—")

	fmt.Println("\nğŸ“Š å®é™…æ•ˆæœéªŒè¯")

	fmt.Println("\nä¿®å¤å‰åçš„å¯¹æ¯”ï¼ˆBTRUSDT 100 USDTä¿è¯é‡‘æ¡ˆä¾‹ï¼‰ï¼š")

	fmt.Println("\nä¿®å¤å‰:")
	fmt.Printf("â”œâ”€â”€ ä»·æ ¼è·å–: å¤±è´¥ â†’ ä½¿ç”¨fallback '1'\n")
	fmt.Printf("â”œâ”€â”€ åä¹‰ä»·å€¼: 1 * 0.004512 â‰ˆ 0.0045 USDT\n")
	fmt.Printf("â”œâ”€â”€ ä¿è¯é‡‘: 0.0045 / 3 â‰ˆ 0.0015 USDT\n")
	fmt.Printf("â”œâ”€â”€ ç”¨æˆ·æœŸæœ›: 100 USDT\n")
	fmt.Printf("â””â”€â”€ å·®è·: 66,333å€ âŒ\n")

	fmt.Println("\nä¿®å¤å:")
	fmt.Printf("â”œâ”€â”€ ä»·æ ¼è·å–: æˆåŠŸ (ç¼“å­˜/API/ä¼°ç®—)\n")
	fmt.Printf("â”œâ”€â”€ åä¹‰ä»·å€¼: 100 * 3 = 300 USDT\n")
	fmt.Printf("â”œâ”€â”€ è®¡ç®—æ•°é‡: 300 / 0.004512 â‰ˆ 66,489\n")
	fmt.Printf("â”œâ”€â”€ ä¿è¯é‡‘: 300 / 3 = 100 USDT\n")
	fmt.Printf("â”œâ”€â”€ ç”¨æˆ·æœŸæœ›: 100 USDT\n")
	fmt.Printf("â””â”€â”€ å·®è·: <1% âœ…\n")

	fmt.Printf("\nğŸ¯ æ€»ç»“")

	fmt.Printf("\nè¿™ä¸ªä¿®å¤å½»åº•è§£å†³äº†ä»·æ ¼è·å–å¤±è´¥å¯¼è‡´çš„ä¿è¯é‡‘è®¡ç®—é—®é¢˜ï¼š\n")
	fmt.Printf("â€¢ é›†æˆäº†ç°æœ‰çš„ä»·æ ¼ç¼“å­˜æœºåˆ¶\n")
	fmt.Printf("â€¢ æ˜¾è‘—æå‡äº†ä»·æ ¼è·å–çš„æˆåŠŸç‡\n")
	fmt.Printf("â€¢ ç¡®ä¿ç”¨æˆ·æŒ‡å®šçš„ä¿è¯é‡‘é‡‘é¢è¢«æ­£ç¡®ä½¿ç”¨\n")
	fmt.Printf("â€¢ å¤§å¹…æ”¹å–„äº†é‡åŒ–äº¤æ˜“ç­–ç•¥çš„æ‰§è¡Œå‡†ç¡®æ€§\n")

	fmt.Printf("\nç°åœ¨ç³»ç»Ÿèƒ½å¤Ÿç¨³å®šåœ°ä»price_cachesè¡¨è·å–æœ€æ–°ä»·æ ¼æ•°æ®ï¼Œ\n")
	fmt.Printf("ç¡®ä¿ä¿è¯é‡‘è®¡ç®—çš„å‡†ç¡®æ€§å’Œå¯é æ€§ï¼ğŸ‰")
}